!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-fullpage-modal"]=e():t["vue-fullpage-modal"]=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){var o=n(4);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(6).default)("1149b4f1",o,!1,{})},function(t,e,n){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var o,i,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}t.exports=function(t){var e=o(t,4),n=e[1],i=e[3];if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(a," */"),l=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(l).concat([s]).join("\n")}return[n].join("\n")}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);o&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){"use strict";n(0)},function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),r=n(2),a=n.n(r)()(i.a);a.push([t.i,"\n.fpm--modal {\n  display: flex;\n  position: absolute;\n  /* // FIXME: If there is a scrollbar, the screen exceeds the scrollbar area */\n  min-height: 100vh;\n  width: 100%;\n  z-index: 900;\n}\n\n/* placement */\n.fpm--modal.fpm--align-bottom {\n  align-items: flex-end;\n}\n.fpm--modal.fpm--align-center {\n  align-items: center;\n}\n.fpm--modal.fpm--align-top {\n  align-items: flex-start;\n}\n.fpm--modal.fpm--justify-left {\n  justify-content: flex-start;\n}\n.fpm--modal.fpm--justify-center {\n  justify-content: center;\n}\n.fpm--modal.fpm--justify-right {\n  justify-content: flex-end;\n}\n.fpm--modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(128, 128, 128, 0.3)\n}\n.fpm--modal-content {\n  position: relative;\n  max-width: 100%;\n  border-radius: 4px;\n  z-index: 910;\n}\n\n/* Animation */\n/* // TODO: add more animations */\n\n/* fade */\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.4s;\n}\n.fade-enter,\n.fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity:0;\n}\n/* bounce-up */\n.bounce-up-enter-active {\n  animation: bounce-up 0.4s;\n}\n.bounce-up-leave-active {\n  animation: bounce-up 0.4s reverse;\n}\n/* fade-up */\n.fade-up-enter-active,\n.fade-up-leave-active {\n  transition:all 0.4s;\n}\n.fade-up-enter,\n.fade-up-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity:0;\n  transform:translateY(10px);\n}\n@keyframes bounce-up {\n0% {\n    opacity: 0;\n    transform: translateY(50px);\n}\n60% {\n    opacity: 1;\n    transform: translateY(-7px);\n}\n100% {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n","",{version:3,sources:["webpack://./src/components/FullpageModal.vue"],names:[],mappings:";AAgQA;EACA,aAAA;EACA,kBAAA;EACA,6EAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;AACA;;AAEA,cAAA;AACA;EACA,qBAAA;AACA;AAEA;EACA,mBAAA;AACA;AAEA;EACA,uBAAA;AACA;AAEA;EACA,2BAAA;AACA;AAEA;EACA,uBAAA;AACA;AAEA;EACA,yBAAA;AACA;AAEA;EACA,eAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,aAAA;EACA;AACA;AAEA;EACA,kBAAA;EACA,eAAA;EACA,kBAAA;EACA,YAAA;AACA;;AAEA,cAAA;AACA,iCAAA;;AAEA,SAAA;AACA;;EAEA,oBAAA;AACA;AACA;;EAEA,SAAA;AACA;AACA,cAAA;AACA;EACA,yBAAA;AACA;AACA;EACA,iCAAA;AACA;AACA,YAAA;AACA;;EAEA,mBAAA;AACA;AACA;;EAEA,SAAA;EACA,0BAAA;AACA;AACA;AACA;IACA,UAAA;IACA,2BAAA;AACA;AACA;IACA,UAAA;IACA,2BAAA;AACA;AACA;IACA,UAAA;IACA,wBAAA;AACA;AACA",sourcesContent:["<template>\n  <div :class=\"['fpm--modal', verticalAlignClass, horizontalAlignClass]\" :style=\"modalStyles\" v-if=\"exist\" v-show=\"toggleModal\">\n    <transition appear name=\"fade\">\n      <div class=\"fpm--modal-overlay\" :style=\"overlayStyles\" @click.self.stop=\"overlayOnClick\" v-show=\"visible\"></div>\n    </transition>\n    <transition appear @after-enter=\"afterOpenModal\" @before-leave=\"beforeCloseModalAnimation\" @after-leave=\"afterCloseModalAnimation\" :name=\"animation\">\n      <div class=\"fpm--modal-content\" :style=\"computedContentStyles\" v-show=\"visible\">\n        <slot></slot>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n// TODO: should be seperated by util\n// TODO: should include closeAnimationSideEffect inpreventAnimationSideEffect\n\nfunction stopPropagation (e) {\n  e.stopPropagation()\n}\n\nfunction preventScrollEvent (options = {}) {\n  const { restore } = options\n  if (restore) {\n    window.removeEventListener('scroll', stopPropagation, true)\n    return\n  }\n  window.addEventListener('scroll', stopPropagation, true)\n}\n\nfunction preventAnimationSideEffect (options = {}) {\n  const { restore } = options\n  if (restore) {\n    document.body.style.overflow = ''\n    document.documentElement.style.overflow = ''\n    return\n  }\n  // The scrollbar is created and disappeared due to animation. it temporarily prevents additional screen movement.\n  document.body.style.overflow = 'hidden'\n  document.documentElement.style.overflow = 'hidden'\n}\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      required: true\n    },\n    index: {\n      type: Number\n    },\n    modals: {\n      type: Array\n    },\n    fpmId: {\n      type: Number | String\n    },\n    isBottomMost: {\n      type: Boolean\n    },\n    maxHeight: {\n      type: Number | String,\n      default: '80%'\n    },\n    height: {\n      type: Number | String\n    },\n    width: {\n      type: Number | String,\n      default: 800\n    },\n    backgroundColor: {\n      type: String,\n      default: '#fff'\n    },\n    clickToClose: {\n      type: Boolean,\n      default: true\n    },\n    escToClose: {\n      type: Boolean,\n      default: true\n    },\n    placement: {\n      type: String,\n      default: 'center bottom'\n    },\n    modalStyles: {\n      type: String | Object | Array\n    },\n    overlayStyles: {\n      type: String | Object | Array\n    },\n    contentStyles: {\n      type: String | Object | Array\n    },\n    animation: {\n      type: String,\n      default: 'bounce-up'\n    }\n  },\n  computed: {\n    marginTop: function () {\n      if (typeof this.maxHeight === 'number') {\n        return `calc(100vh - ${this.maxHeight}px)`\n      }\n      if (this.maxHeight.includes('%')) {\n        const marginTopPercentage = 100 - Number(this.maxHeight.replace('%', ''))\n        return `${marginTopPercentage}vh`\n      }\n      return `calc(100vh - ${this.maxHeight})`\n    },\n    boxShadow: function () {\n      const verticalAlign = this.placement.split(' ')[1]\n      if (verticalAlign === 'bottom') {\n        return `0 10px 0 0 ${this.backgroundColor}`\n      }\n\n      return ''\n    },\n    convertedHeight: function () {\n      if (typeof this.height === 'number') {\n        return `${this.height}px`\n      }\n      return this.height\n    },\n    convertedWidth: function () {\n      if (typeof this.width === 'number') {\n        return `${this.width}px`\n      }\n      return this.width\n    },\n    verticalAlignClass: function () {\n      const verticalAlign = this.placement.split(' ')[1]\n      return `fpm--align-${verticalAlign}`\n    },\n    horizontalAlignClass: function () {\n      const horizontalAlign = this.placement.split(' ')[0]\n      return `fpm--justify-${horizontalAlign}`\n    },\n    computedContentStyles: function () {\n      if (typeof this.contentStyles === 'string') {\n        return `margin-top: ${this.marginTop}; background-color: ${this.backgroundColor}; box-shadow: ${this.boxShadow}; width: ${this.convertedWidth}; height: ${this.convertedHeight}; ${this.contentStyles}`\n      }\n\n      if (Array.isArray(this.contentStyles)){\n        return [{ marginTop: this.marginTop, backgroundColor: this.backgroundColor, boxShadow: this.boxShadow, width: this.convertedWidth, height: this.convertedHeight }].concat(this.contentStyles)\n      }\n\n      return [{ marginTop: this.marginTop, backgroundColor: this.backgroundColor, boxShadow: this.boxShadow, width: this.convertedWidth, height: this.convertedHeight }, this.contentStyles]\n    },\n    isModalAtTop: function(){\n      return this.index === this.modals.length - 1\n    }\n  },\n  created: function () {\n    window.addEventListener('keyup', this.closeIfEsc)\n    this.$FModal.eventInterface.$on('hide-dynamic', this.hideDynamicCallback)\n  },\n  mounted: function () {\n    if (this.value) {\n      if(this.isBottomMost){\n        this.fixRootApp()\n      }\n      setTimeout(() => {\n        this.openModal()\n      }, 17)\n    }\n  },\n  beforeDestroy: function () {\n    window.removeEventListener('keyup', this.closeIfEsc)\n    this.$FModal.eventInterface.$off('hide-dynamic', this.hideDynamicCallback)\n\n  },\n  destroyed() {\n    // FIXME: tidy up restore logic. temporary implmentation\n    // restore app behavior on unexpected destorying\n    if(this.isBottomMost) {\n      this.fixRootApp({ restore: true })\n    }\n\n    preventScrollEvent({ restore: true })\n    preventAnimationSideEffect({ restore: true })\n  },\n  data: function () {\n    return {\n      exist: this.value,\n      toggleModal: false,\n      visible: false,\n      rootScrollY: undefined\n    }\n  },\n  methods: {\n    hideDynamicCallback: function (fpmId) {\n      if (fpmId === undefined) return\n      if (this.fpmId === fpmId) this.visible = false\n    },\n    closeIfEsc: function (event) {\n      if (!this.escToClose) return\n      if (!this.isModalAtTop) return\n      if (event.keyCode === 27) {\n        this.visible = false\n      }\n    },\n    overlayOnClick: function () {\n      if (!this.clickToClose) return\n      this.visible = false\n    },\n    afterOpenModal: function () {\n      preventScrollEvent({ restore: true })\n      preventAnimationSideEffect({ restore: true })\n    },\n    beforeCloseModalAnimation: function () {\n      // TODO: preventCloseAnimationSideEffect\n      this.$el.style.cssText += `position: fixed; left: 0; top: -${window.scrollY}px;`\n    },\n    afterCloseModalAnimation: function () {\n      if(this.isBottomMost) {\n        this.fixRootApp({ restore: true })\n      }\n\n      // restore unexpected lock state\n      preventScrollEvent({ restore: true })\n      preventAnimationSideEffect({ restore: true })\n\n      this.closeModal()\n    },\n    fixRootApp: function (options = {}) {\n      const { restore } = options\n      if (restore) {\n        this.$root.$el.style.cssText = ''\n        window.scroll(0, this.rootScrollY)\n        return\n      }\n      preventScrollEvent()\n      this.rootScrollY = window.scrollY\n      const rootOffsetWidth = this.$root.$el.offsetWidth\n      this.$root.$el.style.cssText = `position: fixed; top: -${this.rootScrollY}px; bottom: 0; width: ${rootOffsetWidth}px`\n    },\n    openModal: function () {\n      preventAnimationSideEffect()\n      this.toggleModal = this.value\n      this.visible = this.value\n    },\n    closeModal: function () {\n      this.toggleModal = false\n      this.exist = false\n      this.$emit('input', false)\n      this.$emit('modal-closed', this.fpmId)\n      this.$FModal.eventInterface.$emit('modal-closed', this.fpmId)\n    }\n  }\n}\n<\/script>\n\n<style>\n.fpm--modal {\n  display: flex;\n  position: absolute;\n  /* // FIXME: If there is a scrollbar, the screen exceeds the scrollbar area */\n  min-height: 100vh;\n  width: 100%;\n  z-index: 900;\n}\n\n/* placement */\n.fpm--modal.fpm--align-bottom {\n  align-items: flex-end;\n}\n\n.fpm--modal.fpm--align-center {\n  align-items: center;\n}\n\n.fpm--modal.fpm--align-top {\n  align-items: flex-start;\n}\n\n.fpm--modal.fpm--justify-left {\n  justify-content: flex-start;\n}\n\n.fpm--modal.fpm--justify-center {\n  justify-content: center;\n}\n\n.fpm--modal.fpm--justify-right {\n  justify-content: flex-end;\n}\n\n.fpm--modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(128, 128, 128, 0.3)\n}\n\n.fpm--modal-content {\n  position: relative;\n  max-width: 100%;\n  border-radius: 4px;\n  z-index: 910;\n}\n\n/* Animation */\n/* // TODO: add more animations */\n\n/* fade */\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.4s;\n}\n.fade-enter,\n.fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity:0;\n}\n/* bounce-up */\n.bounce-up-enter-active {\n  animation: bounce-up 0.4s;\n}\n.bounce-up-leave-active {\n  animation: bounce-up 0.4s reverse;\n}\n/* fade-up */\n.fade-up-enter-active,\n.fade-up-leave-active {\n  transition:all 0.4s;\n}\n.fade-up-enter,\n.fade-up-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity:0;\n  transform:translateY(10px);\n}\n@keyframes bounce-up {\n  0% {\n    opacity: 0;\n    transform: translateY(50px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-7px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>\n"],sourceRoot:""}]),e.default=a},function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fpm--modal-container"},t._l(t.modals,(function(e,o){return n("fullpage-modal",t._g(t._b({key:e.key,attrs:{index:o,modals:t.modals,fpmId:void 0===e.fpmId?o:e.fpmId,isBottomMost:e.isBottomMost},model:{value:e.show,callback:function(n){t.$set(e,"show",n)},expression:"modal.show"}},"fullpage-modal",e.modalProps,!1),void 0!==e.onClose?{"modal-closed":e.onClose}:{}),[n(e.component,t._b({tag:"component"},"component",e.componentPropsOrAttrs,!1))],1)})),1)};o._withStripped=!0;var i=["component","template","componentName","fpmId","onClose"];function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t,e,n,o,i,r,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:c}}var d=c({name:"fpm--modal-container",data:function(){return{modals:[]}},beforeMount:function(){this.$FModal.eventInterface.$on("show-dynamic",this.show),this.$FModal.eventInterface.$on("hide-dynamic",this.hide),this.$FModal.eventInterface.$on("modal-closed",this.remove),this.$FModal.eventInterface.$on("destroy-all",this.destroyAll)},beforeDestroy:function(){this.modals=[],this.$FModal.eventInterface.$off("show-dynamic",this.show),this.$FModal.eventInterface.$off("hide-dynamic",this.hide),this.$FModal.eventInterface.$off("modal-closed",this.remove),this.$FModal.eventInterface.$off("destroy-all",this.destroyAll)},methods:{remove:function(t){var e=this.modals.findIndex((function(e){return e.fpmId===t}));this.modals.splice(e,1)},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.component,o=t.template,r=t.componentName,s=t.fpmId,c=void 0===s?this.modals.length:s,d=t.onClose,f=l(t,i),u=t.key,p=void 0===u?Symbol("fullpage-modal"):u,h=0===this.modals.length;if(n)this.modals.push({key:p,fpmId:c,show:!0,component:n,isBottomMost:h,onClose:d,modalProps:f,componentPropsOrAttrs:e});else{if(o){var m={};return m.template=o,m.data=function(){return a({},e)},void this.modals.push({key:p,fpmId:c,show:!0,component:m,isBottomMost:h,onClose:d,modalProps:f})}r&&this.modals.push({key:p,fpmId:c,show:!0,component:r,isBottomMost:h,onClose:d,modalProps:f,componentPropsOrAttrs:e})}},hide:function(t){if(void 0===t&&0!==this.modals.length){var e=this.modals[this.modals.length-1].fpmId;this.$FModal.eventInterface.$emit("hide-dynamic",e)}},destroyAll:function(){0!==this.modals.length&&(this.modals=[])}}},o,[],!1,null,"0698727c",null);d.options.__file="src/components/FullpageModalContainer.vue";var f=d.exports,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.exist?n("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleModal,expression:"toggleModal"}],class:["fpm--modal",t.verticalAlignClass,t.horizontalAlignClass],style:t.modalStyles},[n("transition",{attrs:{appear:"",name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"fpm--modal-overlay",style:t.overlayStyles,on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.overlayOnClick.apply(null,arguments))}}})]),t._v(" "),n("transition",{attrs:{appear:"",name:t.animation},on:{"after-enter":t.afterOpenModal,"before-leave":t.beforeCloseModalAnimation,"after-leave":t.afterCloseModalAnimation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"fpm--modal-content",style:t.computedContentStyles},[t._t("default")],2)])],1):t._e()};function p(t){t.stopPropagation()}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.restore;e?window.removeEventListener("scroll",p,!0):window.addEventListener("scroll",p,!0)}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.restore;if(e)return document.body.style.overflow="",void(document.documentElement.style.overflow="");document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"}u._withStripped=!0;var A={props:{value:{type:Boolean,required:!0},index:{type:Number},modals:{type:Array},fpmId:{type:Number|String},isBottomMost:{type:Boolean},maxHeight:{type:Number|String,default:"80%"},height:{type:Number|String},width:{type:Number|String,default:800},backgroundColor:{type:String,default:"#fff"},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},placement:{type:String,default:"center bottom"},modalStyles:{type:String|Object|Array},overlayStyles:{type:String|Object|Array},contentStyles:{type:String|Object|Array},animation:{type:String,default:"bounce-up"}},computed:{marginTop:function(){if("number"==typeof this.maxHeight)return"calc(100vh - ".concat(this.maxHeight,"px)");if(this.maxHeight.includes("%")){var t=100-Number(this.maxHeight.replace("%",""));return"".concat(t,"vh")}return"calc(100vh - ".concat(this.maxHeight,")")},boxShadow:function(){return"bottom"===this.placement.split(" ")[1]?"0 10px 0 0 ".concat(this.backgroundColor):""},convertedHeight:function(){return"number"==typeof this.height?"".concat(this.height,"px"):this.height},convertedWidth:function(){return"number"==typeof this.width?"".concat(this.width,"px"):this.width},verticalAlignClass:function(){var t=this.placement.split(" ")[1];return"fpm--align-".concat(t)},horizontalAlignClass:function(){var t=this.placement.split(" ")[0];return"fpm--justify-".concat(t)},computedContentStyles:function(){return"string"==typeof this.contentStyles?"margin-top: ".concat(this.marginTop,"; background-color: ").concat(this.backgroundColor,"; box-shadow: ").concat(this.boxShadow,"; width: ").concat(this.convertedWidth,"; height: ").concat(this.convertedHeight,"; ").concat(this.contentStyles):Array.isArray(this.contentStyles)?[{marginTop:this.marginTop,backgroundColor:this.backgroundColor,boxShadow:this.boxShadow,width:this.convertedWidth,height:this.convertedHeight}].concat(this.contentStyles):[{marginTop:this.marginTop,backgroundColor:this.backgroundColor,boxShadow:this.boxShadow,width:this.convertedWidth,height:this.convertedHeight},this.contentStyles]},isModalAtTop:function(){return this.index===this.modals.length-1}},created:function(){window.addEventListener("keyup",this.closeIfEsc),this.$FModal.eventInterface.$on("hide-dynamic",this.hideDynamicCallback)},mounted:function(){var t=this;this.value&&(this.isBottomMost&&this.fixRootApp(),setTimeout((function(){t.openModal()}),17))},beforeDestroy:function(){window.removeEventListener("keyup",this.closeIfEsc),this.$FModal.eventInterface.$off("hide-dynamic",this.hideDynamicCallback)},destroyed:function(){this.isBottomMost&&this.fixRootApp({restore:!0}),h({restore:!0}),m({restore:!0})},data:function(){return{exist:this.value,toggleModal:!1,visible:!1,rootScrollY:void 0}},methods:{hideDynamicCallback:function(t){void 0!==t&&this.fpmId===t&&(this.visible=!1)},closeIfEsc:function(t){this.escToClose&&this.isModalAtTop&&27===t.keyCode&&(this.visible=!1)},overlayOnClick:function(){this.clickToClose&&(this.visible=!1)},afterOpenModal:function(){h({restore:!0}),m({restore:!0})},beforeCloseModalAnimation:function(){this.$el.style.cssText+="position: fixed; left: 0; top: -".concat(window.scrollY,"px;")},afterCloseModalAnimation:function(){this.isBottomMost&&this.fixRootApp({restore:!0}),h({restore:!0}),m({restore:!0}),this.closeModal()},fixRootApp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.restore;if(e)return this.$root.$el.style.cssText="",void window.scroll(0,this.rootScrollY);h(),this.rootScrollY=window.scrollY;var n=this.$root.$el.offsetWidth;this.$root.$el.style.cssText="position: fixed; top: -".concat(this.rootScrollY,"px; bottom: 0; width: ").concat(n,"px")},openModal:function(){m(),this.toggleModal=this.value,this.visible=this.value},closeModal:function(){this.toggleModal=!1,this.exist=!1,this.$emit("input",!1),this.$emit("modal-closed",this.fpmId),this.$FModal.eventInterface.$emit("modal-closed",this.fpmId)}}},v=(n(3),c(A,u,[],!1,null,null,null));v.options.__file="src/components/FullpageModal.vue";var y=v.exports;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default={install:function(t){if(!t.prototype.$FModal){var e=new t,n={},o={show:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];"object"===g(n[0])&&e.$emit.apply(e,["show-dynamic"].concat(n))},hide:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.$emit.apply(e,["hide-dynamic"].concat(n))},destroyAll:function(){e.$emit("destroy-all")},eventInterface:e};Object.defineProperty(t.prototype,"$FModal",{get:function(){if(!n.containerBound){n.containerBound=!0;var e=document.createElement("div");document.body.appendChild(e),new t({parent:this.$root,render:function(t){return t(f)}}).$mount(e)}return o}}),t.component("fullpage-modal",y)}}}},function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=r[0],s={id:t+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,d=function(){},f=null,u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,i){c=n,f=i||{};var a=o(t,e);return h(a),function(e){for(var n=[],i=0;i<a.length;i++){var s=a[i];(l=r[s.id]).refs--,n.push(l)}e?h(a=o(t,e)):a=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function h(t){for(var e=0;e<t.length;e++){var n=t[e],o=r[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(A(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(A(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:a}}}}function m(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function A(t){var e,n,o=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(o){if(c)return d;o.parentNode.removeChild(o)}if(u){var i=l++;o=s||(s=m()),e=g.bind(null,o,i,!1),n=g.bind(null,o,i,!0)}else o=m(),e=b.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function g(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function b(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),f.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}])}));
//# sourceMappingURL=FullpageModal.js.map